# Obtener la rama actual
current_branch=$(git symbolic-ref --short HEAD)

# Verificar si estamos haciendo push a master
if [ "$current_branch" = "master" ]; then
  echo "üöÄ Detectado push a master - incrementando versi√≥n..."
  
  # Ejecutar solo el script de bump de versi√≥n (sin build)
  npm run version:bump
  
  # A√±adir los archivos de versi√≥n al commit
  git add version.json
  git add public/version.json
  git add src/shared/utils/build-info.generated.ts
  git add package.json
  
  # Hacer commit con el bump de versi√≥n
  git commit -m "chore: bump version for master push" --no-verify
  
  echo "‚úÖ Versi√≥n incrementada y commiteada autom√°ticamente"
else
  echo "‚ÑπÔ∏è  Push a rama $current_branch - no se incrementa versi√≥n"
fi 